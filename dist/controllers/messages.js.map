{"version":3,"sources":["../../src/controllers/messages.js"],"names":["sendMessage","req","res","body","fullName","email","phoneNumber","message","newMessage","Message","create","status","send","getMessages","messages","findAll","length","getMessage","id","params","findByPk","deleteMessage","destroy","where"],"mappings":";;;;;;;AAAA;;eAEe;AACbA,EAAAA,WAAW,EAAE,2BAAOC,GAAP,EAAYC,GAAZ,EAAoB;AAAA,oBACmBD,GAAG,CAACE,IADvB;AAAA,QACvBC,QADuB,aACvBA,QADuB;AAAA,QACbC,KADa,aACbA,KADa;AAAA,QACNC,WADM,aACNA,WADM;AAAA,QACOC,OADP,aACOA,OADP;AAE/B,QAAMC,UAAU,GAAG,MAAMC,gBAAQC,MAAR,CAAe;AACtCN,MAAAA,QAAQ,EAARA,QADsC;AAEtCC,MAAAA,KAAK,EAALA,KAFsC;AAGtCC,MAAAA,WAAW,EAAXA,WAHsC;AAItCC,MAAAA,OAAO,EAAPA;AAJsC,KAAf,CAAzB;AAMA,WAAOL,GAAG,CACPS,MADI,CACG,GADH,EAEJC,IAFI,CAEC;AAAEL,MAAAA,OAAO,EAAE,2BAAX;AAAwCC,MAAAA,UAAU,EAAVA;AAAxC,KAFD,CAAP;AAGD,GAZY;AAcbK,EAAAA,WAAW,EAAE,2BAAOZ,GAAP,EAAYC,GAAZ,EAAoB;AAC/B,QAAMY,QAAQ,GAAG,MAAML,gBAAQM,OAAR,EAAvB;;AACA,QAAID,QAAQ,CAACE,MAAT,KAAoB,CAAxB,EAA2B;AACzB,aAAOd,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEL,QAAAA,OAAO,EAAE;AAAX,OAArB,CAAP;AACD;;AACD,WAAOL,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEE,MAAAA,QAAQ,EAARA;AAAF,KAArB,CAAP;AACD,GApBY;AAsBbG,EAAAA,UAAU,EAAE,0BAAOhB,GAAP,EAAYC,GAAZ,EAAoB;AAAA,QACtBgB,EADsB,GACfjB,GAAG,CAACkB,MADW,CACtBD,EADsB;AAE9B,QAAMX,OAAO,GAAG,MAAME,gBAAQW,QAAR,CAAiBF,EAAjB,CAAtB;AACA,QAAI,CAACX,OAAL,EAAc,OAAOL,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEL,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAP;AACd,WAAOL,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEL,MAAAA,OAAO,EAAPA;AAAF,KAArB,CAAP;AACD,GA3BY;AA6Bbc,EAAAA,aAAa,EAAE,6BAAOpB,GAAP,EAAYC,GAAZ,EAAoB;AAAA,QACzBgB,EADyB,GAClBjB,GAAG,CAACkB,MADc,CACzBD,EADyB;AAEjC,QAAMX,OAAO,GAAG,MAAME,gBAAQW,QAAR,CAAiBF,EAAjB,CAAtB;AACA,QAAI,CAACX,OAAL,EAAc,OAAOL,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEL,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAP;AACd,UAAME,gBAAQa,OAAR,CAAgB;AAAEC,MAAAA,KAAK,EAAE;AAAEL,QAAAA,EAAE,EAAFA;AAAF;AAAT,KAAhB,CAAN;AACA,WAAOhB,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEL,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAP;AACD;AAnCY,C","sourcesContent":["import { Message } from \"../../models\";\r\n\r\nexport default {\r\n  sendMessage: async (req, res) => {\r\n    const { fullName, email, phoneNumber, message } = req.body;\r\n    const newMessage = await Message.create({\r\n      fullName,\r\n      email,\r\n      phoneNumber,\r\n      message\r\n    });\r\n    return res\r\n      .status(201)\r\n      .send({ message: \"Message successfully sent\", newMessage });\r\n  },\r\n\r\n  getMessages: async (req, res) => {\r\n    const messages = await Message.findAll();\r\n    if (messages.length === 0) {\r\n      return res.status(404).send({ message: \"No message found\" });\r\n    }\r\n    return res.status(200).send({ messages });\r\n  },\r\n\r\n  getMessage: async (req, res) => {\r\n    const { id } = req.params;\r\n    const message = await Message.findByPk(id);\r\n    if (!message) return res.status(404).send({ message: \"No message found\" });\r\n    return res.status(200).send({ message });\r\n  },\r\n\r\n  deleteMessage: async (req, res) => {\r\n    const { id } = req.params;\r\n    const message = await Message.findByPk(id);\r\n    if (!message) return res.status(404).send({ message: \"No message found\" });\r\n    await Message.destroy({ where: { id } });\r\n    return res.status(200).send({ message: \"Message successfully deleted\" });\r\n  }\r\n};\r\n"],"file":"messages.js"}