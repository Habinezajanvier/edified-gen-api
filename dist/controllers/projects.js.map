{"version":3,"sources":["../../src/controllers/projects.js"],"names":["projectController","postProject","req","res","body","projectUrl","projectThumbnail","description","title","project","Project","create","status","send","msg","getProjects","projects","findAll","deleteProject","id","params","deletedProject","destroy","where","updateProject","update","updatedProject","findOne"],"mappings":";;;;;;;;;;;;;AAAA;;;;;;AAEA,IAAMA,iBAAiB,GAAG;AACxBC,EAAAA,WAAW,EAAE,2BAAOC,GAAP,EAAYC,GAAZ,EAAoB;AAAA,oBAC8BD,GAAG,CAACE,IADlC;AAAA,QACvBC,UADuB,aACvBA,UADuB;AAAA,QACXC,gBADW,aACXA,gBADW;AAAA,QACOC,WADP,aACOA,WADP;AAAA,QACoBC,KADpB,aACoBA,KADpB;AAE/B,QAAMC,OAAO,GAAG,MAAMC,gBAAQC,MAAR,CAAe;AACnCN,MAAAA,UAAU,EAAVA,UADmC;AAEnCC,MAAAA,gBAAgB,EAAhBA,gBAFmC;AAGnCC,MAAAA,WAAW,EAAXA,WAHmC;AAInCC,MAAAA,KAAK,EAALA;AAJmC,KAAf,CAAtB;AAMAL,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,GAAG,EAAE,6BAAP;AAAsCL,MAAAA,OAAO,EAAPA;AAAtC,KAArB;AACD,GAVuB;AAYxBM,EAAAA,WAAW,EAAE,2BAAOb,GAAP,EAAYC,GAAZ,EAAoB;AAC/B,QAAMa,QAAQ,GAAG,MAAMN,gBAAQO,OAAR,EAAvB;AACAd,IAAAA,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEG,MAAAA,QAAQ,EAARA;AAAF,KAArB;AACD,GAfuB;AAiBxBE,EAAAA,aAAa,EAAE,6BAAOhB,GAAP,EAAYC,GAAZ,EAAoB;AAAA,QACzBgB,EADyB,GAClBjB,GAAG,CAACkB,MADc,CACzBD,EADyB;AAEjC,QAAME,cAAc,GAAG,MAAMX,gBAAQY,OAAR,CAAgB;AAAEC,MAAAA,KAAK,EAAE;AAAEJ,QAAAA,EAAE,EAAFA;AAAF;AAAT,KAAhB,CAA7B;;AACA,QAAIE,cAAJ,EAAoB;AAClB,aAAOlB,GAAG,CACPS,MADI,CACG,GADH,EAEJC,IAFI,CAEC;AAAEC,QAAAA,GAAG,EAAE,8BAAP;AAAuCO,QAAAA,cAAc,EAAdA;AAAvC,OAFD,CAAP;AAGD;;AACD,WAAOlB,GAAG,CACPS,MADI,CACG,GADH,EAEJC,IAFI,CAEC;AAAEC,MAAAA,GAAG,EAAE;AAAP,KAFD,CAAP;AAGD,GA5BuB;AA8BxBU,EAAAA,aAAa,EAAE,6BAAOtB,GAAP,EAAYC,GAAZ,EAAoB;AAAA,QACzBgB,EADyB,GAClBjB,GAAG,CAACkB,MADc,CACzBD,EADyB;;AAAA,gCAEhB,MAAMT,gBAAQe,MAAR,mBAAoBvB,GAAG,CAACE,IAAxB,GAAgC;AAAEmB,MAAAA,KAAK,EAAE;AAAEJ,QAAAA,EAAE,EAAFA;AAAF;AAAT,KAAhC,CAFU;AAAA;AAAA,QAE1BM,MAF0B;;AAGjC,QAAIA,MAAJ,EAAY;AACV,UAAMC,cAAc,GAAG,MAAMhB,gBAAQiB,OAAR,CAAgB;AAAEJ,QAAAA,KAAK,EAAE;AAAEJ,UAAAA,EAAE,EAAFA;AAAF;AAAT,OAAhB,CAA7B;AACA,aAAOhB,GAAG,CACPS,MADI,CACG,GADH,EAEJC,IAFI,CAEC;AAAEC,QAAAA,GAAG,EAAE,8BAAP;AAAuCY,QAAAA,cAAc,EAAdA;AAAvC,OAFD,CAAP;AAGD;;AACD,WAAOvB,GAAG,CACPS,MADI,CACG,GADH,EAEJC,IAFI,CAEC;AAAEC,MAAAA,GAAG,EAAE;AAAP,KAFD,CAAP;AAGD;AA1CuB,CAA1B;eA6Ced,iB","sourcesContent":["import { Project } from \"../../models\";\r\n\r\nconst projectController = {\r\n  postProject: async (req, res) => {\r\n    const { projectUrl, projectThumbnail, description, title } = req.body;\r\n    const project = await Project.create({\r\n      projectUrl,\r\n      projectThumbnail,\r\n      description,\r\n      title\r\n    });\r\n    res.status(201).send({ msg: \"Project posted successfully\", project });\r\n  },\r\n\r\n  getProjects: async (req, res) => {\r\n    const projects = await Project.findAll();\r\n    res.status(200).send({ projects });\r\n  },\r\n\r\n  deleteProject: async (req, res) => {\r\n    const { id } = req.params;\r\n    const deletedProject = await Project.destroy({ where: { id } });\r\n    if (deletedProject) {\r\n      return res\r\n        .status(200)\r\n        .send({ msg: \"Project successfully deleted\", deletedProject });\r\n    }\r\n    return res\r\n      .status(404)\r\n      .send({ msg: \"Project with the specified ID doesn't exist\" });\r\n  },\r\n\r\n  updateProject: async (req, res) => {\r\n    const { id } = req.params;\r\n    const [update] = await Project.update({ ...req.body }, { where: { id } });\r\n    if (update) {\r\n      const updatedProject = await Project.findOne({ where: { id } });\r\n      return res\r\n        .status(200)\r\n        .send({ msg: \"Project successfully updated\", updatedProject });\r\n    }\r\n    return res\r\n      .status(404)\r\n      .send({ msg: \"Project with the specified ID doesn't exist\" });\r\n  }\r\n};\r\n\r\nexport default projectController;\r\n"],"file":"projects.js"}