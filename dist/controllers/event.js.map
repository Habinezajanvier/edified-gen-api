{"version":3,"sources":["../../src/controllers/event.js"],"names":["postEvent","req","res","body","title","caption","photoUrl","event","Event","create","status","send","msg","getEvents","findAll","getEvent","id","params","findOne","where","deleteEvent","deletedEvent","destroy","updateEvent","update","updatedEvent"],"mappings":"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","sourcesContent":["import { Event } from \"../../models\";\r\n\r\nexport default {\r\n  postEvent: async (req, res) => {\r\n    const { title, caption, photoUrl } = req.body;\r\n    const event = await Event.create({ title, caption, photoUrl });\r\n    res.status(201).send({ msg: \"Event posted successfully\", event });\r\n  },\r\n\r\n  getEvents: async (req, res) => {\r\n    const event = await Event.findAll();\r\n    res.status(200).send({event});\r\n  },\r\n\r\n  getEvent: async (req, res) => {\r\n    const { id } = req.params;\r\n    const event = await Event.findOne({ where: { id }});\r\n    res.status(200).send({event})\r\n  },\r\n\r\n  deleteEvent: async (req, res) => {\r\n    const { id } = req.params;\r\n    const deletedEvent = await Event.destroy({ where: { id } });\r\n    if (deletedEvent) {\r\n      return res\r\n        .status(200)\r\n        .send({ msg: \"Event successfully deleted\", deletedEvent });\r\n    }\r\n    return res\r\n      .status(404)\r\n      .send({ msg: \"Event with the specified ID doesn't exist\" });\r\n  },\r\n\r\n  updateEvent: async (req, res) => {\r\n    const { id } = req.params;\r\n    const [update] = await Event.update({ ...req.body }, { where: { id } });\r\n    if (update) {\r\n      const updatedEvent = await Event.findOne({ where: { id } });\r\n      return res\r\n        .status(200)\r\n        .send({ msg: \"Caption successfully updated\", updatedEvent });\r\n    }\r\n    return res\r\n      .status(404)\r\n      .send({ msg: \"Event with the specified ID doesn't exist\" });\r\n  }\r\n};\r\n"],"file":"event.js"}